
# Домашнее задание к занятию "1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.


**Ответ:**

Паравиртуализация:

Гипервизору этого типа необходима ОС для доступа к аппаратным ресурсам. Гипервизор модифицирует ядро гостевой ОС для разделения доступа к аппаратным ресурсам сервера. 

Основные решения на рынке ПО:

Virtualbox, Hyper-V, Proxmox, KVM

Аппаратная виртуализация:

Она появилась путем добавления инструкции в центральные процессоры, позволяющие отказаться от прослойки в виде ОС. Все процессы выполняются на процессоре с различными приоритетами. 
Не нужно устанавливать ОС, гостевые получают доступ напрямую. 

Основные решения на рынке ПО:

Vmware vSphere, Vmware ESXi, Hyper-V, Xen Server, Citrix

Виртуализация уровня ОС:

Позволяет запускать на одном хосте изолированные vm, но не позволяет запускать ОС с другим ядром, чем у хостовой ОС, т.к. используется ядро хостовой ОС. Роль гипервизора берет на себя ядро. 
VM получаются очень легковесными. 

Docker, LXC, OpenVZ, Podman

## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

**Ответ:**

Высоконагруженная база данных, чувствительная к отказу - думаю, лучше использовать физические сервера, т.к. нужна высокая производительность, делить ресурсы не очень следовало бы.

Различные web-приложения - в данном случае лучше использовать виртуализацию уровня ОС, которая требует меньше ресурсов, выше скорость масштабирования при необходимости расширения.

Windows системы для использования бухгалтерским отделом - оптимальнее всего использовать паравиртуализацию. Легче переносить рабочие места, делать бекапы, быстрее восстановление.  

Системы, выполняющие высокопроизводительные расчеты на GPU - физические сервера т.к. виртуализация может негативно влиять на эффективность использования вычислительных ресурсов. Но существуют специализированные решения паравиртуализации оптимизированные для применения в данной ситуации.


## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

**Ответ:**

1. Думаю, в 1 случае лучше использовать Hyper-V, т.к. инфраструктура в основном Windows, этот гипервизор соответствует всем требованиям. Но можно, также, использовать, например VMWare ESXI.

2. Можно использовать Proxmox, KVM, или Xen. Бесплатны, соответсвуют требованиям к инфраструктуре.

3. Microsoft Hyper-V Server - бесплатная операционная система с единственной ролью - сервером виртуализации. Лучше всего подойдет для виртуализации Windows инфраструктуры.

4. Здесь лучше всего подойдет виртуализация уровня ОС, например Docker. Данный тип поможет быстро развернуть среду, свернуть и потребуется меньше ресурсов, чем при виртуализации другого типа.


## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.


**Ответ:**

Думаю, в первую очередь такую среду сложно администрировать, т.к. нужно знать несколько сред виртуализации. Получается, нужно создавать разные отделы, нанимать дополнительно людей или тратить средства на различные курсы по обучению, вероятно зарплата для таких сотрудников тоже должна быть выше. В общем, неудобно и дорого.

Если бы у меня был выбор.. Зависит, все-таки, от задач. Допустим, при тестрировании нужна windows и linux среда, получается логичнее всего будет использовать паравиртуализацию и виртуализацию уровня ОС, как минимум 2 продукта.